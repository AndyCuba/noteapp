(this.webpackJsonpnyblecraft=this.webpackJsonpnyblecraft||[]).push([[0],{35:function(t,e,n){},37:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){"use strict";n.r(e);var a=n(16),c=n.n(a),r=n(15),i=n(10),s=n(3),o=n(9),u=n(0),l=function(){return Object(r.b)()},j=r.c,d=n(5),b="ADD_NOTE",O="REMOVE_NOTE",f="ADD_TAG",p="REMOVE_TAG",h="CHANGE_TAG_STATUS",v="EDIT_NOTE",m={notes:[],tags:[]},x=(n(35),n(1)),g=function(){var t=l(),e=j((function(t){return t.data.tags})),n=Object(u.useRef)(null);return Object(x.jsx)("div",{className:"noteForm",children:Object(x.jsxs)("form",{onSubmit:function(a){var c;if(a.preventDefault(),null===(c=n.current)||void 0===c?void 0:c.value){var r=n.current.value;t({type:b,payload:r,id:Date.now().toString()});var i=r.match(/#\w+/g);if(i){var s=Array.from(new Set(Object(o.a)(i))).filter((function(t){return!e.some((function(e){return e.name.includes(t)}))&&t}));s[0]&&t({type:f,payload:s})}n.current.value=""}},autoComplete:"on",children:[Object(x.jsx)("input",{type:"text",ref:n,placeholder:"Please, enter your note",className:"noteForm__input"}),Object(x.jsx)("button",{type:"submit",className:"noteForm__button",children:"Create"})]})})},y=(n(37),function(){var t=l(),e=j((function(t){return t.data.notes})),n=j((function(t){return t.data.tags.filter((function(t){return t.isActive}))})),a=function(e){if(e.preventDefault(),e.target){var n=e.target;t((a=n.id,{type:O,payload:a}))}var a};return Object(x.jsxs)("div",{className:"notesList",children:[Object(x.jsx)("h2",{children:"Your notes:"}),e[0]?Object(x.jsx)("ul",{className:"notesList__ul",children:e.filter((function(t){return n[0]?n.every((function(e){return t.text.includes(e.name)}))?t:void 0:t})).map((function(t){return Object(x.jsxs)("li",{children:[Object(x.jsx)("p",{children:t.text}),Object(x.jsxs)("div",{children:[Object(x.jsx)(i.b,{to:"/notes/".concat(t.id),className:"notesList__edit_link"}),Object(x.jsx)("button",{id:t.id,onClick:a,className:"notesList__delete_button"})]})]},t.id)}))}):Object(x.jsx)("p",{children:"You have no notes"})]})}),_=(n(39),function(){var t=l(),e=j((function(t){return t.data.tags})),n=function(e){if(e.target){var n=e.target;if("BUTTON"===n.tagName)t((r=n.id,{type:p,payload:r}));else{var a=e.target;t((c=a.id,{type:h,payload:c}))}}var c,r};return Object(x.jsxs)("div",{className:"tagList",children:[Object(x.jsx)("h3",{children:"Find note by hashtag:"}),Object(x.jsx)("ul",{children:e[0]?e.map((function(t,e){return Object(x.jsxs)("li",{id:t.name,onClick:n,className:t.isActive?"active tagList__tag":"not-active tagList__tag",children:[t.name,Object(x.jsx)("button",{id:t.name})]},e)})):Object(x.jsx)("h2",{children:"You have no tags"})})]})}),N=function(){return Object(x.jsxs)("div",{className:"app-wrapper",children:[Object(x.jsx)(g,{}),Object(x.jsx)(_,{}),Object(x.jsx)(y,{})]})},T=n(27),A=n(24),E=n.n(A),S=(n(40),function(){var t=l(),e=Object(s.f)(),n=Object(s.g)().noteId,a=j((function(t){return t.data.tags})),c=Object(u.useRef)(null),r=j((function(t){return t.data.notes.filter((function(t){return t.id===n}))})),i=Object(T.a)(r,1)[0],o=function(n){var a,r,i;if(n.preventDefault(),n.target&&(null===(a=c.current)||void 0===a?void 0:a.innerText)){var s=n.target;t((r=s.id,i=c.current.innerText,{type:v,id:r,text:i})),e.push("/")}};return Object(x.jsxs)("div",{className:"app-wrapper notePage",children:[Object(x.jsx)("h2",{children:"\u0421lick on your note to edit:"}),Object(x.jsxs)("form",{onSubmit:o,id:n,children:[Object(x.jsx)("div",{contentEditable:!0,suppressContentEditableWarning:!0,ref:c,id:n,className:"notePage__input-area",onKeyPress:function(t){"Enter"===t.key&&o(t)},children:Object(x.jsx)(E.a,{highlightClassName:"highlight",searchWords:a.map((function(t){return t.name})),autoEscape:!1,textToHighlight:i.text})}),Object(x.jsx)("button",{type:"submit",children:"Save note"})]})]})}),D=(n(41),function(){return Object(x.jsx)("header",{className:"header",children:Object(x.jsx)("h1",{children:Object(x.jsx)(i.b,{to:"/",children:"Note App"})})})});n(42);var w=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)(D,{}),Object(x.jsxs)(s.c,{children:[Object(x.jsx)(s.a,{path:"/",component:N,exact:!0}),Object(x.jsx)(s.a,{path:"/notes/:noteId",component:S})]})]})},k=n(12),C=n(25),L=n(26),I=n.n(L),R=Object(k.combineReducers)({data:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case b:return Object(d.a)(Object(d.a)({},t),{},{notes:[].concat(Object(o.a)(t.notes),[{text:e.payload,id:e.id}])});case O:return Object(d.a)(Object(d.a)({},t),{},{notes:Object(o.a)(t.notes.filter((function(t){return t.id!==e.payload})))});case f:return Object(d.a)(Object(d.a)({},t),{},{tags:[].concat(Object(o.a)(t.tags),Object(o.a)(e.payload.map((function(t){return{name:t,isActive:!1}}))))});case p:return Object(d.a)(Object(d.a)({},t),{},{tags:Object(o.a)(t.tags.filter((function(t){return t.name!==e.payload})))});case h:return Object(d.a)(Object(d.a)({},t),{},{tags:Object(o.a)(t.tags.map((function(t){return t.name.includes(e.payload)?{name:t.name,isActive:!t.isActive}:t})))});case v:return Object(d.a)(Object(d.a)({},t),{},{notes:Object(o.a)(t.notes.map((function(t){return t.id.includes(e.id)?{text:e.text,id:e.id}:t})))});default:return Object(d.a)({},t)}}}),F=function(){try{var t=localStorage.getItem("state");if(null===t)return;return JSON.parse(t)}catch(e){return}}(),G=[Object(k.applyMiddleware)()],J=C.composeWithDevTools.apply(void 0,G),P=Object(k.createStore)(R,F,J);P.subscribe(I()((function(){!function(t){try{var e=JSON.stringify(t);localStorage.setItem("state",e)}catch(n){return null}}({data:P.getState().data})}),1e3));var M=P;c.a.render(Object(x.jsx)(r.a,{store:M,children:Object(x.jsx)(i.a,{basename:"/noteapp",children:Object(x.jsx)(w,{})})}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.dccf570f.chunk.js.map